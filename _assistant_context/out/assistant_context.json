{
  "title": "Assistant Context ‚Äî snapshot (nested, filtered)",
  "manifest_present": true,
  "project_root": "C:\\.code\\.ipan",
  "generated_utc": "2025-11-11T16:23:27.302034Z",
  "git": {
    "branch": "refactor/carcass",
    "commit": "48966c0482b8a2347f0613355c25f024c78ae799",
    "status": "M frontend/ipan/index.html\n M frontend/ipan/package-lock.json\n M frontend/ipan/package.json\n M frontend/ipan/src/App.tsx\n M frontend/ipan/src/components/Layout.tsx\n M frontend/ipan/src/components/SplitPane.tsx\n M frontend/ipan/src/main.tsx\n M frontend/ipan/src/theme/theme.ts\n?? _assistant_context.zip\n?? _assistant_context_claude/\n?? frontend/ipan/src/components/HeaderBar.tsx\n?? frontend/ipan/src/components/LeftSidebar.tsx\n?? frontend/ipan/src/config/\n?? frontend/ipan/src/frontend/\n?? frontend/ipan/src/index.css\n?? frontend/ipan/src/pages/SettingsInterface.tsx\n?? frontend/ipan/src/state/",
    "clean": false
  },
  "runtime": {
    "python": "3.13.5",
    "platform": "win32",
    "time_utc": "2025-11-11T16:23:27.301756Z"
  },
  "files": [
    {
      "path": ".gitignore",
      "bytes": 533,
      "sha1": "796290cdef93368a7b98bed2944ff7882bbff294",
      "type": "text",
      "inline": "\n.env\n.env.*\r\n# build/deps\nnode_modules/\ndist/\nbuild/\n.cache/\n.next/\n.vite/\n**/node_modules/.vite/\n# Assistant snapshots\n_assistant_context/out/\n# env\n.env\n.env.local\r\n# build/deps\nnode_modules/\ndist/\nbuild/\n.cache/\n.next/\n.vite/\n**/node_modules/.vite/\n# Assistant snapshots\n_assistant_context/out/\n# env\n.env\n.env.local\r\n\n# Node/Vite\nfrontend/ipan/node_modules/\nfrontend/ipan/dist/\n# Python venv\n.venv/\n# ENV\n.env\n.env.*\n# OS junk\n.DS_Store\nThumbs.db\n\r\n\n_assistant_context/\n.txt\n\r\n\n# ignore loose notes at repo root\n/*.txt\n\r\n"
    },
    {
      "path": "backend/__init__.py",
      "bytes": 0,
      "sha1": "da39a3ee5e6b4b0d3255bfef95601890afd80709",
      "type": "text",
      "inline": ""
    },
    {
      "path": "backend/app/__init__.py",
      "bytes": 0,
      "sha1": "da39a3ee5e6b4b0d3255bfef95601890afd80709",
      "type": "text",
      "inline": ""
    },
    {
      "path": "backend/app/deps.py",
      "bytes": 2392,
      "sha1": "c4796d61993bcf33ebab61daa2812449ebf990de",
      "type": "text",
      "inline": "# backend/app/deps.py\r\nimport os\r\nimport re\r\nfrom pathlib import Path\r\nimport asyncpg\r\n\r\n# –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞ .env (—É—á–∏—Ç—ã–≤–∞–µ–º BOM –∏ –ø—Ä–æ–±–µ–ª—ã –≤–æ–∫—Ä—É–≥ '=')\r\n_env_loaded = False\r\n\r\ndef _load_env_once() -> None:\r\n    global _env_loaded\r\n    if _env_loaded:\r\n        return\r\n    if os.getenv(\"DATABASE_URL\"):\r\n        _env_loaded = True\r\n        return\r\n\r\n    try:\r\n        from dotenv import load_dotenv  # type: ignore\r\n    except Exception:\r\n        load_dotenv = None  # type: ignore\r\n\r\n    pat = re.compile(r'^DATABASE_URL\\s*=\\s*(.+)$')\r\n    base = Path(__file__).resolve()\r\n    for parent in [base.parent, *base.parents]:\r\n        env_path = parent / \".env\"\r\n        if env_path.exists():\r\n            if load_dotenv:\r\n                load_dotenv(env_path, override=False)\r\n            else:\r\n                try:\r\n                    text = env_path.read_text(encoding=\"utf-8-sig\")\r\n                    for raw in text.splitlines():\r\n                        line = raw.strip()\r\n                        if not line or line.startswith(\"#\"):\r\n                            continue\r\n                        m = pat.match(line)\r\n                        if m:\r\n                            val = m.group(1).strip().strip('\"').strip(\"'\")\r\n                            if val and \"DATABASE_URL\" not in os.environ:\r\n                                os.environ[\"DATABASE_URL\"] = val\r\n                            break\r\n                except Exception:\r\n                    pass\r\n            break\r\n\r\n    _env_loaded = True\r\n\r\n\r\nasync def db_ping():\r\n    \"\"\"\r\n    Healthcheck –ë–î: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ok:true –∏ —Ç–µ–∫—É—â–∏–µ user/db.\r\n    –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫ ‚Äî ok:false + —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ (–±–µ–∑ 500).\r\n    \"\"\"\r\n    _load_env_once()\r\n    dsn = os.getenv(\"DATABASE_URL\")\r\n    if not dsn:\r\n        return {\"ok\": False, \"error\": \"DATABASE_URL is empty (not found in environment or .env)\"}\r\n\r\n    conn = None\r\n    try:\r\n        conn = await asyncpg.connect(dsn)\r\n        row = await conn.fetchrow(\"select current_user as user, current_database() as db;\")\r\n        return {\"ok\": True, \"user\": row[\"user\"], \"db\": row[\"db\"]}\r\n    except Exception as e:\r\n        return {\"ok\": False, \"error\": str(e)}\r\n    finally:\r\n        if conn:\r\n            try:\r\n                await conn.close()\r\n            except Exception:\r\n                pass\r\n"
    },
    {
      "path": "backend/app/main.py",
      "bytes": 924,
      "sha1": "5d56c77c98ef13c5b6a482c57f3a6242bb4bc4a4",
      "type": "text",
      "inline": "# backend/app/main.py\r\nfrom fastapi import FastAPI\r\nfrom fastapi.middleware.cors import CORSMiddleware\r\nfrom pathlib import Path\r\n\r\n# –ó–∞–≥—Ä—É–∂–∞–µ–º .env –∏–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (C:\\.code\\.ipan\\.env)\r\ntry:\r\n    from dotenv import load_dotenv  # type: ignore\r\n    load_dotenv(Path(__file__).resolve().parents[2] / \".env\", override=False)\r\nexcept Exception:\r\n    pass\r\n\r\nfrom .deps import db_ping\r\nfrom .routers import articles\r\n\r\napp = FastAPI(title=\"IPAN API\", version=\"0.1.0\")\r\n\r\n# CORS (–ø–æ–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ ‚Äî –ø–æ–∑–∂–µ —Å—É–∑–∏–º)\r\napp.add_middleware(\r\n    CORSMiddleware,\r\n    allow_origins=[\"*\"],\r\n    allow_credentials=True,\r\n    allow_methods=[\"*\"],\r\n    allow_headers=[\"*\"],\r\n)\r\n\r\n# healthcheck\r\n@app.get(\"/db/ping\")\r\nasync def ping():\r\n    return await db_ping()\r\n\r\n# API: —Å—Ç–∞—Ç—å–∏\r\napp.include_router(articles.router, prefix=\"/api/articles\", tags=[\"articles\"])\r\n"
    },
    {
      "path": "backend/app/routers/__init__.py",
      "bytes": 17,
      "sha1": "0025d88a66d28b57e7f6809b321c50540acab120",
      "type": "text",
      "inline": "# routers package"
    },
    {
      "path": "backend/app/routers/articles.py",
      "bytes": 5837,
      "sha1": "a1165c119be171284442281023230a56c333b295",
      "type": "text",
      "inline": "# backend/app/routers/articles.py\r\nfrom fastapi import APIRouter, Request, Query, HTTPException\r\nfrom typing import Optional, Any, List\r\nimport os\r\nimport re\r\nfrom pathlib import Path\r\nimport asyncpg\r\n\r\nrouter = APIRouter()\r\n\r\n# –¥–µ—Ç–µ–∫—Ç–æ—Ä \"—á–∏—Å–ª–æ –∏–ª–∏ —Å–ª–∞–≥\"\r\n_int_re = re.compile(r\"^\\d+$\")\r\n\r\n# --- –Ω–∞–¥—ë–∂–Ω–∞—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ .env ---\r\n_env_loaded = False\r\n\r\ndef _load_env_once() -> None:\r\n    \"\"\"\r\n    –ò—â–µ—Ç .env –≤–≤–µ—Ä—Ö –ø–æ –¥–µ—Ä–µ–≤—É –∏ –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç DATABASE_URL.\r\n    –†–∞–±–æ—Ç–∞–µ—Ç –∏ –±–µ–∑ python-dotenv (–µ—Å—Ç—å —Ä—É—á–Ω–æ–π —Ñ–æ–ª–±—ç–∫).\r\n    –£—á–∏—Ç—ã–≤–∞–µ—Ç BOM –∏ –ø—Ä–æ–±–µ–ª—ã –≤–æ–∫—Ä—É–≥ '='.\r\n    \"\"\"\r\n    global _env_loaded\r\n    if _env_loaded:\r\n        return\r\n    if os.getenv(\"DATABASE_URL\"):\r\n        _env_loaded = True\r\n        return\r\n\r\n    # –ø–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å python-dotenv (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)\r\n    try:\r\n        from dotenv import load_dotenv  # type: ignore\r\n    except Exception:\r\n        load_dotenv = None  # type: ignore\r\n\r\n    pat = re.compile(r'^DATABASE_URL\\s*=\\s*(.+)$')\r\n\r\n    base = Path(__file__).resolve()\r\n    for parent in [base.parent, *base.parents]:\r\n        env_path = parent / \".env\"\r\n        if env_path.exists():\r\n            if load_dotenv:\r\n                # dotenv —Å–∞–º –ø–æ–Ω–∏–º–∞–µ—Ç BOM –∏ —Ç.–ø.\r\n                load_dotenv(env_path, override=False)\r\n            else:\r\n                # —Ä—É—á–Ω–æ–π –ø–∞—Ä—Å–∏–Ω–≥ —Å —É—á—ë—Ç–æ–º BOM\r\n                try:\r\n                    text = env_path.read_text(encoding=\"utf-8-sig\")\r\n                    for raw in text.splitlines():\r\n                        line = raw.strip()\r\n                        if not line or line.startswith(\"#\"):\r\n                            continue\r\n                        m = pat.match(line)\r\n                        if m:\r\n                            val = m.group(1).strip().strip('\"').strip(\"'\")\r\n                            if val and \"DATABASE_URL\" not in os.environ:\r\n                                os.environ[\"DATABASE_URL\"] = val\r\n                            break\r\n                except Exception:\r\n                    pass\r\n            break\r\n\r\n    _env_loaded = True\r\n# -------------------------------------------\r\n\r\nasync def _get_pool(app) -> asyncpg.Pool:\r\n    pool = getattr(app.state, \"pool\", None)\r\n    if pool is None:\r\n        _load_env_once()\r\n        dsn = os.getenv(\"DATABASE_URL\")\r\n        if not dsn:\r\n            raise RuntimeError(\"DATABASE_URL is empty\")\r\n        app.state.pool = await asyncpg.create_pool(dsn, min_size=1, max_size=5)\r\n        pool = app.state.pool\r\n    return pool\r\n\r\n@router.get(\"\", summary=\"–°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π (–∞–∫—Ç–∏–≤–Ω—ã–µ –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ)\")\r\nasync def list_articles(\r\n    request: Request,\r\n    q: Optional[str] = Query(None, description=\"–ø–æ–∏—Å–∫ –ø–æ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–º—É –∏–Ω–¥–µ–∫—Å—É\"),\r\n    limit: int = Query(20, ge=1, le=100),\r\n    offset: int = Query(0, ge=0),\r\n):\r\n    pool = await _get_pool(request.app)\r\n\r\n    where: List[str] = [\"a.is_active = true\", \"a.status = 'published'\"]\r\n    params: List[Any] = []\r\n    if q:\r\n        where.append(\"a.search @@ plainto_tsquery('russian', $1)\")\r\n        params.append(q)\r\n\r\n    sql = f\"\"\"\r\n    SELECT\r\n      a.id, a.slug, a.title, a.teaser, a.brief,\r\n      a.published_at, a.author_id,\r\n      md.href AS hero_desktop_href,\r\n      mm.href AS hero_mobile_href,\r\n      th.href AS thumb_href,\r\n      COALESCE((\r\n        SELECT json_agg(json_build_object('id', t.id, 'name', t.name, 'color', t.color))\r\n        FROM public.article_tags at\r\n        JOIN public.tags t ON t.id = at.tag_id\r\n        WHERE at.article_id = a.id\r\n      ), '[]'::json) AS tags\r\n    FROM public.articles a\r\n    LEFT JOIN public.media md ON md.id = a.hero_desktop_media_id\r\n    LEFT JOIN public.media mm ON mm.id = a.hero_mobile_media_id\r\n    LEFT JOIN public.media th ON th.id = a.thumb_media_id\r\n    WHERE {\" AND \".join(where)}\r\n    ORDER BY a.published_at DESC NULLS LAST, a.id DESC\r\n    LIMIT {limit} OFFSET {offset};\r\n    \"\"\"\r\n\r\n    async with pool.acquire() as conn:\r\n        rows = await conn.fetch(sql, *params)\r\n\r\n    return [dict(r) for r in rows]\r\n\r\n@router.get(\"/{id_or_slug}\", summary=\"–û–¥–Ω–∞ —Å—Ç–∞—Ç—å—è –ø–æ id –∏–ª–∏ slug\")\r\nasync def get_article(request: Request, id_or_slug: str):\r\n    pool = await _get_pool(request.app)\r\n\r\n    if _int_re.match(id_or_slug or \"\"):\r\n        cond = \"a.id = $1\"\r\n        param: Any = int(id_or_slug)\r\n    else:\r\n        cond = \"a.slug = $1\"\r\n        param = id_or_slug\r\n\r\n    sql = f\"\"\"\r\n    SELECT\r\n      a.*,\r\n      md.href AS hero_desktop_href,\r\n      mm.href AS hero_mobile_href,\r\n      th.href AS thumb_href,\r\n      COALESCE((\r\n        SELECT json_agg(json_build_object('id', t.id, 'name', t.name, 'color', t.color))\r\n        FROM public.article_tags at\r\n        JOIN public.tags t ON t.id = at.tag_id\r\n        WHERE at.article_id = a.id\r\n      ), '[]'::json) AS tags,\r\n      COALESCE((\r\n        SELECT json_agg(json_build_object(\r\n          'id', c.id,\r\n          'author_id', c.author_id,\r\n          'content', c.content,\r\n          'created_at', c.created_at\r\n        ) ORDER BY c.created_at ASC)\r\n        FROM public.article_comments ac\r\n        JOIN public.comments c ON c.id = ac.comment_id\r\n        WHERE ac.article_id = a.id\r\n      ), '[]'::json) AS comments\r\n    FROM public.articles a\r\n    LEFT JOIN public.media md ON md.id = a.hero_desktop_media_id\r\n    LEFT JOIN public.media mm ON mm.id = a.hero_mobile_media_id\r\n    LEFT JOIN public.media th ON th.id = a.thumb_media_id\r\n    WHERE {cond}\r\n    LIMIT 1;\r\n    \"\"\"\r\n\r\n    async with pool.acquire() as conn:\r\n        row = await conn.fetchrow(sql, param)\r\n\r\n    if not row:\r\n        raise HTTPException(status_code=404, detail=\"article not found\")\r\n\r\n    return dict(row)\r\n"
    },
    {
      "path": "frontend/ipan/public/brand/account.svg",
      "bytes": 18850,
      "sha1": "fb799a595c647cfdf7142ffc152558e1f98afe36",
      "type": "binary"
    },
    {
      "path": "frontend/ipan/public/brand/base_online.svg",
      "bytes": 2847,
      "sha1": "639519a7221f69de2c5d3faaa4692faa15d65bc1",
      "type": "binary"
    },
    {
      "path": "frontend/ipan/public/brand/folder.svg",
      "bytes": 917,
      "sha1": "1fbc865bb5dac047855675953a480a9d2abaee8d",
      "type": "binary"
    },
    {
      "path": "frontend/ipan/public/brand/left_panel.svg",
      "bytes": 1424,
      "sha1": "8c30ce88bf0a3fec1caa31cdcb6439e35189913a",
      "type": "binary"
    },
    {
      "path": "frontend/ipan/public/brand/logo_ipan.svg",
      "bytes": 832,
      "sha1": "0859a4d15ef595f487efd0d2a0635f66fd3be4aa",
      "type": "binary"
    },
    {
      "path": "frontend/ipan/public/brand/logo_ipan_word.svg",
      "bytes": 3210,
      "sha1": "818d21ac6f735a3699f6a68bf4703c1c0383d6ab",
      "type": "binary"
    },
    {
      "path": "frontend/ipan/public/brand/options.svg",
      "bytes": 4551,
      "sha1": "6a0c887449cd880c43d762a53e36d23b3e4e0d2d",
      "type": "binary"
    },
    {
      "path": "frontend/ipan/public/brand/refresh.svg",
      "bytes": 2176,
      "sha1": "30a661a95dc57dcd3871bab6c158b4f1069e5a9a",
      "type": "binary"
    },
    {
      "path": "frontend/ipan/src/App.tsx",
      "bytes": 229,
      "sha1": "e38b94e49517b481c179d0338217d4ec687d8763",
      "type": "text",
      "inline": "import React from \"react\";\nimport { MainLayout } from \"./frontend/layouts/MainLayout\";\n\n// –í–∞–∂–Ω–æ: Router –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –¢–û–õ–¨–ö–û –≤ main.tsx!\nexport default function App() {\n  return <MainLayout />;\n}\n"
    },
    {
      "path": "frontend/ipan/src/components/HeaderBar.tsx",
      "bytes": 6169,
      "sha1": "42401f9c1c9f67284046f407fe113e7c83f39483",
      "type": "text",
      "inline": "// frontend/ipan/src/components/HeaderBar.tsx\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\n\r\n/**\r\n * –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è Header:\r\n *   ui.header.height      -> –≤—ã—Å–æ—Ç–∞ (px), –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 80\r\n *   ui.header.bg          -> —Ñ–æ–Ω, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é #353535\r\n *   ui.header.border      -> \"1\" –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –Ω–∏–∂–Ω—è—è –ª–∏–Ω–∏—è, –∏–Ω–∞—á–µ \"0\"\r\n *   ui.separator.color    -> —Ü–≤–µ—Ç –ª–∏–Ω–∏–π, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é #3C3C3C\r\n *\r\n * –®—Ä–∏—Ñ—Ç—ã: \"Amatic SC\" –∫–∞–∫ –≥–ª–∞–≤–Ω—ã–π –¥–ª—è Header.\r\n */\r\n\r\nfunction getHeaderHeight(): number {\r\n  const v = localStorage.getItem(\"ui.header.height\");\r\n  const n = Number(v);\r\n  return Number.isFinite(n) && n > 0 ? n : 80;\r\n}\r\n\r\nfunction getHeaderBg(): string {\r\n  return localStorage.getItem(\"ui.header.bg\") || \"#353535\";\r\n}\r\n\r\nfunction getHeaderBorder(): boolean {\r\n  return (localStorage.getItem(\"ui.header.border\") || \"0\") === \"1\";\r\n}\r\n\r\nfunction getSeparatorColor(): string {\r\n  return localStorage.getItem(\"ui.separator.color\") || \"#3C3C3C\";\r\n}\r\n\r\nfunction two(n: number) {\r\n  return String(n).padStart(2, \"0\");\r\n}\r\n\r\nconst WEEKDAYS_RU = [\"–í–°\", \"–ü–ù\", \"–í–¢\", \"–°–†\", \"–ß–¢\", \"–ü–¢\", \"–°–ë\"];\r\n\r\nfunction formatDateTime(d: Date) {\r\n  // –ü—Ä–∏–º–µ—Ä: \"4 –Ω–æ—è–±—Ä—è 2025 ¬∑ –í–¢ ¬∑ 20:22\"\r\n  const day = d.getDate();\r\n  const monthLong = new Intl.DateTimeFormat(\"ru-RU\", { month: \"long\" }).format(d);\r\n  const year = d.getFullYear();\r\n  const wd = WEEKDAYS_RU[d.getDay()];\r\n  const hh = two(d.getHours());\r\n  const mm = two(d.getMinutes());\r\n  return `${day} ${monthLong} ${year} ¬∑ ${wd} ¬∑ ${hh}:${mm}`;\r\n}\r\n\r\ntype HeaderBarProps = {\r\n  sectionGroup?: string;  // –ì–æ–ª–æ–≤–Ω–æ–π —Ä–∞–∑–¥–µ–ª, –Ω–∞–ø—Ä–∏–º–µ—Ä \"–ü–ê–ù–ï–õ–¨\"\r\n  sectionItem?: string;   // –í–ª–æ–∂–µ–Ω–Ω—ã–π, –Ω–∞–ø—Ä–∏–º–µ—Ä \"DASHBOARD\"\r\n  userName?: string;      // –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é Master)\r\n};\r\n\r\nconst HeaderBar: React.FC<HeaderBarProps> = ({\r\n  sectionGroup = \"–ü–ê–ù–ï–õ–¨\",\r\n  sectionItem = \"DASHBOARD\",\r\n  userName = \"Master\",\r\n}) => {\r\n  const [now, setNow] = useState<Date>(new Date());\r\n\r\n  // —Ç–∞–π–º–µ—Ä —á–∞—Å–æ–≤\r\n  useEffect(() => {\r\n    const t = setInterval(() => setNow(new Date()), 1000);\r\n    return () => clearInterval(t);\r\n  }, []);\r\n\r\n  const headerHeight = useMemo(getHeaderHeight, []);\r\n  const headerBg = useMemo(getHeaderBg, []);\r\n  const showBorder = useMemo(getHeaderBorder, []);\r\n  const sepColor = useMemo(getSeparatorColor, []);\r\n\r\n  const rootStyle: React.CSSProperties = {\r\n    height: headerHeight,\r\n    background: headerBg,\r\n    borderBottom: showBorder ? `1px solid ${sepColor}` : \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    padding: \"0 16px\",\r\n    width: \"100%\",            // –í –ø—Ä–µ–¥–µ–ª–∞—Ö –æ—Å–Ω–æ–≤–Ω–æ–π (–ø—Ä–∞–≤–æ–π) –∫–æ–ª–æ–Ω–∫–∏\r\n    fontFamily: `\"Amatic SC\", \"Playpen Sans\", system-ui, -apple-system, \"Segoe UI\", Roboto, Arial`,\r\n    color: \"#E5E5E5\",\r\n    letterSpacing: \"0.06em\",\r\n  };\r\n\r\n  const leftClusterStyle: React.CSSProperties = {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: 12,\r\n    minWidth: 0,\r\n  };\r\n\r\n  const midTitleStyle: React.CSSProperties = {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: 8,\r\n    fontWeight: 700,\r\n    fontSize: 26,\r\n    whiteSpace: \"nowrap\",\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\",\r\n  };\r\n\r\n  const rightClusterStyle: React.CSSProperties = {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: 16,\r\n  };\r\n\r\n  const iconButton: React.CSSProperties = {\r\n    cursor: \"pointer\",\r\n    userSelect: \"none\",\r\n    height: 36,\r\n    width: 36,\r\n    display: \"grid\",\r\n    placeItems: \"center\",\r\n    borderRadius: 8,\r\n    border: \"1px solid transparent\",\r\n  };\r\n\r\n  const metaText: React.CSSProperties = {\r\n    fontWeight: 700,\r\n    fontSize: 24,\r\n  };\r\n\r\n  return (\r\n    <div className=\"headerBar\" data-slot=\"header\" style={rootStyle}>\r\n      {/* –õ–µ–≤—ã–π –∫–ª–∞—Å—Ç–µ—Ä: Back + Refresh + —Ç–µ–∫—É—â–∏–π —Ä–∞–∑–¥–µ–ª */}\r\n      <div style={leftClusterStyle}>\r\n        {/* Back ‚Äî –ø—Ä–æ—Å—Ç–æ–π —Å–∏–º–≤–æ–ª-—Å—Ç—Ä–µ–ª–∫–∞, —á—Ç–æ–±—ã –Ω–µ —Ç—è–Ω—É—Ç—å –ª–∏—à–Ω–∏–µ –ø–∞–∫–µ—Ç—ã */}\r\n        <div\r\n          role=\"button\"\r\n          title=\"–ù–∞–∑–∞–¥\"\r\n          style={iconButton}\r\n          onClick={() => window.history.length > 1 && window.history.back()}\r\n        >\r\n          {/* –°–∏–º–≤–æ–ª —Å—Ç—Ä–µ–ª–∫–∏ –≤–ª–µ–≤–æ */}\r\n          <span style={{ fontSize: 22, lineHeight: 1, color: \"#E5E5E5\" }}>‚Üê</span>\r\n        </div>\r\n\r\n        {/* Refresh ‚Äî –±—Ä–µ–Ω–¥–æ–≤–∞—è –∏–∫–æ–Ω–∫–∞ */}\r\n        <div\r\n          role=\"button\"\r\n          title=\"–û–±–Ω–æ–≤–∏—Ç—å\"\r\n          style={iconButton}\r\n          onClick={() => window.location.reload()}\r\n        >\r\n          <img\r\n            src=\"/brand/refresh.svg\"\r\n            alt=\"refresh\"\r\n            style={{ height: 20, width: 20, display: \"block\", filter: \"invert(90%)\" }}\r\n          />\r\n        </div>\r\n\r\n        {/* –¢–µ–∫—É—â–∏–π —Ä–∞–∑–¥–µ–ª */}\r\n        <div style={midTitleStyle} aria-label=\"current-section\">\r\n          <span>{sectionGroup}</span>\r\n          <span>¬∑</span>\r\n          <span>{sectionItem}</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* –ü—Ä–∞–≤—ã–π –∫–ª–∞—Å—Ç–µ—Ä: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ¬∑ DB ¬∑ –¥–∞—Ç–∞/–≤—Ä–µ–º—è */}\r\n      <div style={rightClusterStyle}>\r\n        {/* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å */}\r\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: 8 }}>\r\n          <img\r\n            src=\"/brand/account.svg\"\r\n            alt=\"user\"\r\n            style={{ height: 22, width: 22, display: \"block\", filter: \"invert(90%)\" }}\r\n          />\r\n          <span style={{ ...metaText }}>{userName}</span>\r\n        </div>\r\n\r\n        {/* DB online (—Ç–æ–ª—å–∫–æ –∏–∫–æ–Ω–∫–∞) */}\r\n        <img\r\n          src=\"/brand/base_online.svg\"\r\n          alt=\"db\"\r\n          title=\"DB online\"\r\n          style={{ height: 22, width: 22, display: \"block\", filter: \"invert(90%)\" }}\r\n        />\r\n\r\n        {/* –î–∞—Ç–∞/–≤—Ä–µ–º—è */}\r\n        <div style={metaText}>{formatDateTime(now)}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderBar;\r\n"
    },
    {
      "path": "frontend/ipan/src/components/Layout.tsx",
      "bytes": 4084,
      "sha1": "5d15c865e95236ffb5c9ceef7ce404a376b01a34",
      "type": "text",
      "inline": "// frontend/ipan/src/components/Layout.tsx\nimport React, { useEffect, useState } from \"react\";\nimport { Outlet, useLocation } from \"react-router-dom\";\nimport HeaderBar from \"./HeaderBar\";\nimport LeftSidebar from \"./LeftSidebar\";\n\n// helpers: –±–µ—Ä—ë–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ localStorage —Å –¥–µ—Ñ–æ–ª—Ç–∞–º–∏\nconst getBool = (k: string, d = true) => (localStorage.getItem(k) ?? (d ? \"1\" : \"0\")) === \"1\";\nconst getNum  = (k: string, d: number) => {\n  const n = Number(localStorage.getItem(k));\n  return Number.isFinite(n) && n > 0 ? n : d;\n};\nconst getStr  = (k: string, d: string) => localStorage.getItem(k) || d;\n\nconst READ = {\n  sidebarOpen: () => getBool(\"ui.sidebar.open\", true),\n  wOpen:       () => getNum(\"ui.sidebar.w_open\", 280),\n  wClosed:     () => getNum(\"ui.sidebar.w_closed\", 56),\n  headerH:     () => getNum(\"ui.header.height\", 80),\n  mainBg:      () => getStr(\"ui.main.bg\", \"#141414\"),\n};\n\nexport default function Layout() {\n  // —Å–æ—Å—Ç–æ—è–Ω–∏–µ —à–∏—Ä–∏–Ω/–≤—ã—Å–æ—Ç –∏ –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏\n  const [open, setOpen]       = useState(READ.sidebarOpen());\n  const [wOpen, setWOpen]     = useState(READ.wOpen());\n  const [wClosed, setWClosed] = useState(READ.wClosed());\n  const [hHeader, setHHeader] = useState(READ.headerH());\n  const [mainBg, setMainBg]   = useState(READ.mainBg());\n\n  // —Ä–µ–∞–≥–∏—Ä—É–µ–º –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ localStorage)\n  useEffect(() => {\n    const onStorage = (e: StorageEvent) => {\n      if (!e.key) return;\n      if (e.key === \"ui.sidebar.w_open\")   setWOpen(READ.wOpen());\n      if (e.key === \"ui.sidebar.w_closed\") setWClosed(READ.wClosed());\n      if (e.key === \"ui.sidebar.open\")     setOpen(READ.sidebarOpen());\n      if (e.key === \"ui.header.height\")    setHHeader(READ.headerH());\n      if (e.key === \"ui.main.bg\")          setMainBg(READ.mainBg());\n    };\n    window.addEventListener(\"storage\", onStorage);\n    return () => window.removeEventListener(\"storage\", onStorage);\n  }, []);\n\n  const sidebarWidth = open ? wOpen : wClosed;\n\n  // –∫–∞—Ä–∫–∞—Å: 2 –∫–æ–ª–æ–Ω–∫–∏ (–º–µ–Ω—é | –ø—Ä–∞–≤–∞—è —á–∞—Å—Ç—å), 2 —Ä—è–¥–∞ (Header | –∫–æ–Ω—Ç–µ–Ω—Ç)\n  const rootStyle: React.CSSProperties = {\n    height: \"100vh\",\n    display: \"grid\",\n    gridTemplateColumns: `${sidebarWidth}px 1fr`,\n    gridTemplateRows: `${hHeader}px 1fr`,\n    background: mainBg,\n    color: \"#E5E5E5\",\n  };\n\n  const sidebarSlot: React.CSSProperties = {\n    gridColumn: 1,\n    gridRow: \"1 / span 2\",\n    zIndex: 5, // —á—Ç–æ–±—ã –∫–ª–∏–∫ –ø–æ ¬´–∫—É–±—É¬ª –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–ª\n    width: \"100%\",\n    height: \"100%\",\n  };\n\n  const headerSlot: React.CSSProperties = {\n    gridColumn: 2, // –í–ê–ñ–ù–û: —Ç–æ–ª—å–∫–æ –ø—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞!\n    gridRow: 1,\n    zIndex: 3,\n  };\n\n  const mainSlot: React.CSSProperties = {\n    gridColumn: 2, // —Ç–æ–ª—å–∫–æ –ø—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞\n    gridRow: 2,\n    overflow: \"auto\",\n    minHeight: 0,\n  };\n\n  // –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è HeaderBar –ø–æ url\n  const location = useLocation();\n  const [sectionGroup, sectionItem] = (() => {\n    const parts = location.pathname.split(\"/\").filter(Boolean);\n    if (parts.length === 0) return [\"–ü–ê–ù–ï–õ–¨\", \"DASHBOARD\"];\n    const g = decodeURI(parts[0]).toUpperCase();\n    const i = parts[1] ? decodeURI(parts[1]).toUpperCase() : \"SECTION\";\n    return [g, i];\n  })();\n\n  return (\n    <div style={rootStyle}>\n      {/* –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ */}\n      <div style={sidebarSlot}>\n        <LeftSidebar\n          isOpen={open}\n          onToggle={() => {\n            const next = !open;\n            setOpen(next);\n            localStorage.setItem(\"ui.sidebar.open\", next ? \"1\" : \"0\");\n          }}\n        />\n      </div>\n\n      {/* Header ‚Äî —Å—Ç—Ä–æ–≥–æ –Ω–∞–¥ –ø—Ä–∞–≤–æ–π –∫–æ–ª–æ–Ω–∫–æ–π */}\n      <div style={headerSlot}>\n        <HeaderBar sectionGroup={sectionGroup} sectionItem={sectionItem} userName=\"MASTER\" />\n      </div>\n\n      {/* –ö–æ–Ω—Ç–µ–Ω—Ç –º–∞—Ä—à—Ä—É—Ç–æ–≤ */}\n      <main style={mainSlot}>\n        <Outlet />\n      </main>\n    </div>\n  );\n}\n"
    },
    {
      "path": "frontend/ipan/src/components/LeftSidebar.tsx",
      "bytes": 11289,
      "sha1": "fac29be79bb2bd7c0fea31453dec7722f3eb3dd7",
      "type": "text",
      "inline": "import React, { useMemo, useState, useEffect } from \"react\";\nimport { useUISettings } from \"../state/uiSettings\";\n\ntype MenuItem = { key: string; label: string; icon?: string; children?: MenuItem[] };\n\ntype Props = {\n  collapsed: boolean;\n  onToggleCollapsed: () => void;\n  onToggleTheme?: () => void;\n  headerHeight: number;\n  onNavigate?: (key: string) => void;\n  currentPath?: string; // ‚Üê –¥–æ–±–∞–≤–∏–ª–∏: –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–∑ router\n};\n\nconst COLOR_ACTIVE = \"#E5E5E5\";\nconst COLOR_MUTED = \"#696969\";\nconst ICON_COL = 50;\n\nconst MENU: MenuItem[] = [\n  { key: \"panel\", label: \"–ü–ê–ù–ï–õ–¨\", icon: \"/brand/base_online.svg\" },\n  {\n    key: \"structure\", label: \"–°–¢–†–£–ö–¢–£–†–ê\", icon: \"/brand/folder.svg\",\n    children: [\n      { key: \"structure/users\", label: \"–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò\", icon: \"/brand/folder.svg\" },\n      { key: \"structure/contacts\", label: \"–ö–û–ù–¢–ê–ö–¢–´\", icon: \"/brand/folder.svg\" },\n      { key: \"structure/counterparties\", label: \"–ö–û–ù–¢–†–ê–ì–ï–ù–¢–´\", icon: \"/brand/folder.svg\" },\n      { key: \"structure/brands\", label: \"–ë–†–ï–ù–î–´\", icon: \"/brand/folder.svg\" },\n      { key: \"structure/stocks\", label: \"–°–ö–õ–ê–î–´\", icon: \"/brand/folder.svg\" },\n    ],\n  },\n  {\n    key: \"content\", label: \"–ö–û–ù–¢–ï–ù–¢\", icon: \"/brand/folder.svg\",\n    children: [\n      { key: \"content/products\", label: \"–ü–†–û–î–£–ö–¶–ò–Ø\", icon: \"/brand/folder.svg\" },\n      { key: \"content/articles\", label: \"–°–¢–ê–¢–¨–ò\", icon: \"/brand/folder.svg\" },\n      { key: \"content/sites\", label: \"–°–ê–ô–¢–´\", icon: \"/brand/folder.svg\" },\n      { key: \"content/mailing\", label: \"–†–ê–°–°–´–õ–ö–ò\", icon: \"/brand/folder.svg\" },\n      { key: \"content/offers\", label: \"–ê–ö–¶–ò–ò\", icon: \"/brand/folder.svg\" },\n    ],\n  },\n  {\n    key: \"process\", label: \"–ü–†–û–¶–ï–°–°–´\", icon: \"/brand/folder.svg\",\n    children: [\n      { key: \"process/orders\", label: \"–ó–ê–Ø–í–ö–ò\", icon: \"/brand/folder.svg\" },\n      { key: \"process/proposals\", label: \"–ü–†–ï–î–õ–û–ñ–ï–ù–ò–Ø\", icon: \"/brand/folder.svg\" },\n      { key: \"process/invoices\", label: \"–°–ß–ï–¢–ê\", icon: \"/brand/folder.svg\" },\n      { key: \"process/contracts\", label: \"–î–û–ì–û–í–û–†–´\", icon: \"/brand/folder.svg\" },\n      { key: \"process/mailing\", label: \"–†–ê–°–°–´–õ–ö–ê\", icon: \"/brand/folder.svg\" },\n      { key: \"process/parsing\", label: \"–ü–ê–†–°–ò–ù–ì\", icon: \"/brand/folder.svg\" },\n      { key: \"process/flows\", label: \"–ü–†–û–¶–ï–°–°–´\", icon: \"/brand/folder.svg\" },\n    ],\n  },\n  {\n    key: \"docs\", label: \"–î–û–ö–£–ú–ï–ù–¢–´\", icon: \"/brand/folder.svg\",\n    children: [\n      { key: \"docs/letters\", label: \"–ü–ò–°–¨–ú–ê\", icon: \"/brand/folder.svg\" },\n      { key: \"docs/incoming\", label: \"–í–•–û–î–Ø–©–ò–ï –°–ß–ï–¢–ê\", icon: \"/brand/folder.svg\" },\n      { key: \"docs/receipts\", label: \"–ü–û–°–¢–£–ü–õ–ï–ù–ò–Ø\", icon: \"/brand/folder.svg\" },\n      { key: \"docs/sales\", label: \"–†–ï–ê–õ–ò–ó–ê–¶–ò–ò\", icon: \"/brand/folder.svg\" },\n      { key: \"docs/shipments\", label: \"–û–¢–ì–†–£–ó–ö–ò\", icon: \"/brand/folder.svg\" },\n    ],\n  },\n  {\n    key: \"tools\", label: \"–ò–ù–°–¢–†–£–ú–ï–ù–¢–´\", icon: \"/brand/folder.svg\",\n    children: [\n      { key: \"tools/lex\", label: \"LEX\", icon: \"/brand/folder.svg\" },\n      { key: \"tools/api\", label: \"API\", icon: \"/brand/folder.svg\" },\n    ],\n  },\n  {\n    key: \"settings\", label: \"–ù–ê–°–¢–†–û–ô–ö–ò\", icon: \"/brand/options.svg\",\n    children: [\n      { key: \"settings/interface\", label: \"–ò–ù–¢–ï–†–§–ï–ô–°\", icon: \"/brand/options.svg\" },\n      { key: \"settings/templates\", label: \"–®–ê–ë–õ–û–ù–´\", icon: \"/brand/folder.svg\" },\n      { key: \"settings/rights\", label: \"–ü–†–ê–í–ê\", icon: \"/brand/folder.svg\" },\n    ],\n  },\n];\n\nconst LeftSidebar: React.FC<Props> = ({\n  collapsed, onToggleCollapsed, onToggleTheme, headerHeight, onNavigate, currentPath,\n}) => {\n  const {\n    childIndentPx, groupFontWeight, childFontWeight,\n    leftSidebarBg, sidebarWidthOpen, sidebarWidthCollapsed,\n    showSidebarSeparator, lineColor,\n  } = useUISettings();\n\n  const [openKeys, setOpenKeys] = useState<Set<string>>(() => new Set());\n  const [activeKey, setActiveKey] = useState<string>(\"\");\n\n  // —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ —Å –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π\n  useEffect(() => {\n    if (!currentPath) return;\n    // currentPath –≤–∏–¥–∞ \"settings/interface\" –∏–ª–∏ \"process/orders\"\n    setActiveKey(currentPath);\n    // –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é –≥—Ä—É–ø–ø—É\n    const top = currentPath.split(\"/\")[0];\n    if (top) {\n      setOpenKeys((prev) => {\n        const next = new Set(prev);\n        next.add(top);\n        return next;\n      });\n    }\n  }, [currentPath]);\n\n  const width = useMemo(\n    () => (collapsed ? sidebarWidthCollapsed : sidebarWidthOpen),\n    [collapsed, sidebarWidthCollapsed, sidebarWidthOpen]\n  );\n\n  const txtBase: React.CSSProperties = {\n    fontFamily: \"'Amatic SC', cursive\",\n    textTransform: \"uppercase\",\n    letterSpacing: \"0.05em\",\n    fontSize: 24,\n    margin: 0,\n    whiteSpace: \"normal\",\n    overflow: \"visible\",\n    textOverflow: \"clip\",\n    lineHeight: 1.25,\n  };\n\n  const iconColor = (active: boolean) =>\n    active ? \"none\"\n           : \"invert(49%) sepia(0%) saturate(0%) hue-rotate(175deg) brightness(90%) contrast(90%)\";\n\n  const handleGroupClick = (key: string) => {\n    const next = new Set(openKeys);\n    next.has(key) ? next.delete(key) : next.add(key);\n    setOpenKeys(next);\n  };\n  const handleItemClick = (key: string) => {\n    setActiveKey(key);\n    onNavigate?.(key);\n  };\n\n  return (\n    <aside\n      style={{\n        position: \"fixed\",\n        inset: 0,\n        right: undefined,\n        width,\n        background: leftSidebarBg,\n        borderRight: showSidebarSeparator ? `1px solid ${lineColor}` : \"none\",\n        zIndex: 900,\n        transition: \"width 150ms ease\",\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      {/* –õ–æ–≥–æ—Ç–∏–ø—ã */}\n      <div\n        style={{\n          height: headerHeight,\n          display: \"flex\",\n          alignItems: \"center\",\n          paddingLeft: 10,\n          gap: 8,\n        }}\n      >\n        <img\n          src=\"/brand/logo_ipan.svg\" alt=\"iPan\"\n          width={28} height={28}\n          style={{ cursor: \"pointer\" }}\n          onClick={onToggleCollapsed}\n          title={collapsed ? \"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –º–µ–Ω—é\" : \"–°–≤–µ—Ä–Ω—É—Ç—å –º–µ–Ω—é\"}\n        />\n        {!collapsed && <img src=\"/brand/logo_ipan_word.svg\" alt=\"iPan Word\" style={{ height: 20 }} />}\n      </div>\n\n      {/* –ù–∞–≤–∏–≥–∞—Ü–∏—è */}\n      <nav aria-label=\"–û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é\" style={{ flex: 1, overflowY: \"auto\", overflowX: \"hidden\" }}>\n        {MENU.map((g) => {\n          const groupOpen = openKeys.has(g.key);\n\n          const GroupRow = (\n            <div\n              key={g.key}\n              role=\"button\" title={g.label}\n              onClick={() => handleGroupClick(g.key)}\n              style={{\n                display: \"grid\",\n                gridTemplateColumns: `${ICON_COL}px ${collapsed ? \"0\" : \"1fr\"}`,\n                alignItems: \"center\",\n                minHeight: 50,\n                paddingRight: 10,\n                cursor: \"pointer\",\n                color: COLOR_MUTED,\n                position: \"relative\",\n              }}\n            >\n              <div style={{ width: ICON_COL, height: 50, display: \"grid\", placeItems: \"center\" }}>\n                <img\n                  src={g.icon || \"/brand/folder.svg\"} alt=\"\" width={24} height={24}\n                  style={{ filter: iconColor(false) }}\n                />\n              </div>\n\n              {!collapsed && (\n                <h4\n                  style={{\n                    ...txtBase,\n                    fontWeight: groupFontWeight,\n                    color: COLOR_MUTED,\n                    paddingBlock: 6,\n                  }}\n                >\n                  {g.label}\n                </h4>\n              )}\n            </div>\n          );\n\n          const Children =\n            g.children && groupOpen\n              ? g.children.map((it) => {\n                  const isActive = activeKey === it.key;\n                  const color = isActive ? COLOR_ACTIVE : COLOR_MUTED;\n\n                  return (\n                    <div\n                      key={it.key}\n                      role=\"button\" title={it.label}\n                      onClick={() => handleItemClick(it.key)}\n                      style={{\n                        display: \"grid\",\n... (truncated)\n"
    },
    {
      "path": "frontend/ipan/src/components/SplitPane.tsx",
      "bytes": 647,
      "sha1": "8c80846a69dedf976713b3d6f952f4ab34c368ac",
      "type": "text",
      "inline": "// frontend/ipan/src/components/SplitPane.tsx\nimport React from \"react\";\n\ntype Props = { children?: React.ReactNode };\n\n// –ù–∏—á–µ–≥–æ –Ω–µ —Ä–∏—Å—É–µ–º –∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º.\n// –î–∞–∂–µ –µ—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å SplitPane/Divider ‚Äî –º—ã –∏—Ö –≥–ª—É—à–∏–º.\nexport default function SplitPane({ children }: Props) {\n  return <>{children}</>;\n}\n\n// –ï—Å–ª–∏ –≥–¥–µ-—Ç–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π Divider ‚Äî –æ–Ω —Ç–æ–∂–µ ¬´–º–æ–ª—á–∏—Ç¬ª.\nexport function VerticalDivider() {\n  return null;\n}\nexport function HorizontalDivider() {\n  return null;\n}\n"
    },
    {
      "path": "frontend/ipan/src/components/TabsBar.tsx",
      "bytes": 893,
      "sha1": "65911c2c10d28137ee36c17c1d00c2dedc358b9a",
      "type": "text",
      "inline": "import { Box, Tabs, Tab } from '@mui/material'\nimport { useState } from 'react'\n\nexport default function TabsBar() {\n  const [tab, setTab] = useState(0)\n\n  return (\n    <Box sx={{ borderBottom: '2px solid', borderColor: 'divider' }}>\n      <Tabs\n        value={tab}\n        onChange={(_, v) => setTab(v)}\n        textColor=\"inherit\"               // –Ω–µ –∫—Ä–∞—Å–∏–º —Ç–µ–∫—Å—Ç –≤ –ø—É—Ä–ø—É—Ä–Ω—ã–π —É –∞–∫—Ç–∏–≤–Ω–æ–≥–æ\n        sx={{\n          pl: 0,\n          minHeight: 42,\n          '& .MuiTab-root': { minHeight: 42, color: 'text.primary' },\n          '& .Mui-selected': { color: 'text.primary' }, // –Ω–∞ –≤—Å—è–∫–∏–π\n        }}\n        TabIndicatorProps={{ sx: { height: 4, bgcolor: 'text.primary' } }} // 4px, —Ü–≤–µ—Ç –∫–∞–∫ —É —Ç–µ–∫—Å—Ç–∞\n      >\n        <Tab label=\"SECTION_1\" />\n        <Tab label=\"SECTION_2\" />\n        <Tab label=\"SECTION_K\" />\n      </Tabs>\n    </Box>\n  )\n}\n"
    },
    {
      "path": "frontend/ipan/src/config/app-menu.json",
      "bytes": 469,
      "sha1": "d2b29b77fe004ddc3782976438bd15ea813ff806",
      "type": "text",
      "inline": "{\r\n  \"groups\": [\r\n    {\r\n      \"title\": \"–ü–ê–ù–ï–õ–¨\",\r\n      \"items\": [\r\n        { \"id\": \"dashboard\", \"label\": \"Dashboard\", \"icon\": \"panel\" }\r\n      ]\r\n    },\r\n    {\r\n      \"title\": \"–ö–û–ù–¢–ï–ù–¢\",\r\n      \"items\": [\r\n        { \"id\": \"articles\", \"label\": \"–°—Ç–∞—Ç—å–∏\", \"icon\": \"folder\" }\r\n      ]\r\n    },\r\n    {\r\n      \"title\": \"–ù–ê–°–¢–†–û–ô–ö–ò\",\r\n      \"items\": [\r\n        { \"id\": \"ui\", \"label\": \"–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å\", \"icon\": \"gear\" }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n"
    },
    {
      "path": "frontend/ipan/src/frontend/carcass/CarcassShell.tsx",
      "bytes": 1799,
      "sha1": "9b1444f17a2b4e40d3e35e42c6b33c900386ab70",
      "type": "text",
      "inline": "import React, { ReactNode } from \"react\";\r\nimport cfg from \"./configs/main-carcass.json\";\r\nimport { CarcassConfig } from \"./types\";\r\n\r\ntype Areas = {\r\n  header?: ReactNode;\r\n  left?: ReactNode;\r\n  main?: ReactNode;\r\n  right?: ReactNode;\r\n};\r\n\r\nconst config = cfg as CarcassConfig;\r\n\r\nexport function CarcassShell({ header, left, main, right }: Areas) {\r\n  const gridCols = `${config.leftWidth}px 1fr ${Math.max(config.rightWidth ?? 0, 0)}px`;\r\n  const gridRows = `${config.headerHeight}px 1fr`;\r\n\r\n  const line = `1px solid ${config.colors.line}`;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: \"100vh\",\r\n        background: config.colors.bodyBg,\r\n        display: \"grid\",\r\n        gridTemplateColumns: gridCols,\r\n        gridTemplateRows: gridRows,\r\n        gridTemplateAreas: `\"header header header\" \"left main right\"`\r\n      }}\r\n    >\r\n      {/* HEADER */}\r\n      <div\r\n        style={{\r\n          gridArea: \"header\",\r\n          background: config.colors.headerBg,\r\n          borderBottom: config.showHeaderDivider ? line : \"none\"\r\n        }}\r\n      >\r\n        {header}\r\n      </div>\r\n\r\n      {/* LEFT */}\r\n      <div\r\n        style={{\r\n          gridArea: \"left\",\r\n          borderRight: config.showLeftDivider ? line : \"none\",\r\n          overflow: \"hidden\", // –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–Ω—É—Ç—Ä–∏ —Å–∞–º–æ–≥–æ –º–µ–Ω—é\r\n          background: \"transparent\"\r\n        }}\r\n      >\r\n        {left}\r\n      </div>\r\n\r\n      {/* MAIN */}\r\n      <div style={{ gridArea: \"main\", overflow: \"auto\" }}>{main}</div>\r\n\r\n      {/* RIGHT (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) */}\r\n      {config.rightWidth && config.rightWidth > 0 ? (\r\n        <div style={{ gridArea: \"right\", borderLeft: line, overflow: \"auto\" }}>{right}</div>\r\n      ) : (\r\n        <div style={{ display: \"none\" }} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"
    },
    {
      "path": "frontend/ipan/src/frontend/carcass/configs/main-carcass.json",
      "bytes": 226,
      "sha1": "d990ffbe5b3d072ab966d346f4a35d2b21f208da",
      "type": "text",
      "inline": "{\r\n  \"leftWidth\": 280,\r\n  \"rightWidth\": 0,\r\n  \"headerHeight\": 56,\r\n  \"showLeftDivider\": true,\r\n  \"showHeaderDivider\": false,\r\n  \"colors\": {\r\n    \"headerBg\": \"#353535\",\r\n    \"bodyBg\": \"#141414\",\r\n    \"line\": \"#3C3C3C\"\r\n  }\r\n}\r\n"
    },
    {
      "path": "frontend/ipan/src/frontend/carcass/types.ts",
      "bytes": 352,
      "sha1": "9b6229bb60576fbf710ed4248375b011b3e2e252",
      "type": "text",
      "inline": "export interface CarcassColors {\r\n  headerBg: string;\r\n  bodyBg: string;\r\n  line: string;\r\n}\r\n\r\nexport interface CarcassConfig {\r\n  leftWidth: number;         // px\r\n  rightWidth?: number;       // px (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)\r\n  headerHeight: number;      // px\r\n  showLeftDivider: boolean;\r\n  showHeaderDivider: boolean;\r\n  colors: CarcassColors;\r\n}\r\n"
    },
    {
      "path": "frontend/ipan/src/frontend/layouts/MainLayout.tsx",
      "bytes": 2958,
      "sha1": "9615a1e404dfdbe47741a9b84b5477df2e1927da",
      "type": "text",
      "inline": "import React, { useState } from \"react\";\r\nimport { CarcassShell } from \"../carcass/CarcassShell\";\r\nimport { MenuPanel } from \"../widgets/MenuPanel/MenuPanel\";\r\n\r\nexport function MainLayout() {\r\n  const [collapsed, setCollapsed] = useState(false);\r\n  const [section, setSection] = useState<string>(\"dashboard\");\r\n\r\n  return (\r\n    <CarcassShell\r\n      header={\r\n        <div\r\n          style={{\r\n            height: \"100%\",\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"auto 1fr auto\",\r\n            alignItems: \"center\",\r\n            color: \"#E5E5E5\",\r\n            fontFamily: \"'Amatic SC', cursive\",\r\n            padding: \"0 16px\",\r\n            gap: 16\r\n          }}\r\n        >\r\n          {/* –õ–ï–í–ê–Ø –ß–ê–°–¢–¨ */}\r\n          <div style={{ display: \"flex\", alignItems: \"center\", gap: 14 }}>\r\n            <button onClick={() => history.back()} title=\"Back\">‚Ü∂</button>\r\n            <button onClick={() => location.reload()} title=\"Refresh\">‚ü≥</button>\r\n            <div style={{ fontSize: 28, letterSpacing: 2 }}>\r\n              {section === \"articles\" ? \"–ö–û–ù–¢–ï–ù–¢ ¬∑ –°–¢–ê–¢–¨–ò\" : \"–ü–ê–ù–ï–õ–¨ ¬∑ DASHBOARD\"}\r\n            </div>\r\n          </div>\r\n\r\n          {/* –°–ï–†–ï–î–ò–ù–ê ‚Äî –ø—É—Å—Ç–∞—è, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å—é–¥–∞ –ø–µ—Ä–µ–Ω–µ—Å—ë–º ¬´—Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏¬ª */}\r\n          <div />\r\n\r\n          {/* –ü–†–ê–í–ê–Ø –ß–ê–°–¢–¨ */}\r\n          <div style={{ display: \"flex\", alignItems: \"center\", gap: 18, fontSize: 22 }}>\r\n            <span title=\"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\">MASTER</span>\r\n            <span title=\"DB\">üü£</span>\r\n            <time>\r\n              {new Date().toLocaleDateString(\"ru-RU\", {\r\n                day: \"2-digit\", month: \"long\", year: \"numeric\", weekday: \"short\"\r\n              }).replace(\",\", \"\")}\r\n              {\" ¬∑ \"}\r\n              {new Date().toLocaleTimeString(\"ru-RU\", { hour: \"2-digit\", minute: \"2-digit\" })}\r\n            </time>\r\n          </div>\r\n        </div>\r\n      }\r\n      left={\r\n        <div style={{ height: \"100%\", display: \"grid\", gridTemplateRows: \"1fr 60px\" }}>\r\n          {/* –≤–µ—Ä—Ö –º–µ–Ω—é */}\r\n          <MenuPanel onSelect={setSection} collapsed={collapsed} />\r\n          {/* –Ω–∏–∑ –º–µ–Ω—é: –∫–Ω–æ–ø–∫–∞ —Ç–µ–º—ã + –≤–µ—Ä—Å–∏—è */}\r\n          <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", padding: 8 }}>\r\n            <button onClick={() => document.documentElement.classList.toggle(\"light\")}>‚òÄÔ∏é</button>\r\n            <button onClick={() => setCollapsed((v) => !v)} title=\"–°–≤–µ—Ä–Ω—É—Ç—å / —Ä–∞—Å–∫—Ä—ã—Ç—å\">‚â°</button>\r\n            <span style={{ opacity: 0.6 }}>V1.0</span>\r\n          </div>\r\n        </div>\r\n      }\r\n      main={\r\n        <div style={{ padding: 16, color: \"#E5E5E5\", fontFamily: \"'Playpen Sans', cursive\" }}>\r\n          {section === \"articles\" ? \"–ú–û–î–£–õ–¨ –°–¢–ê–¢–ï–ô (–∑–∞–≥–ª—É—à–∫–∞)\" : \"Dashboard (–∑–∞–≥–ª—É—à–∫–∞)\"}\r\n        </div>\r\n      }\r\n    />\r\n  );\r\n}\r\n"
    },
    {
      "path": "frontend/ipan/src/frontend/widgets/MenuPanel/MenuPanel.tsx",
      "bytes": 1826,
      "sha1": "659ae15826e1c78c34c511a2e80eeb5d7e1d732e",
      "type": "text",
      "inline": "import React from \"react\";\r\nimport menu from \"../../../config/app-menu.json\";\r\n\r\ntype MenuItem = { id: string; label: string; icon?: string };\r\ntype MenuGroup = { title: string; items: MenuItem[] };\r\nconst groups = menu.groups as MenuGroup[];\r\n\r\ninterface Props {\r\n  onSelect: (id: string) => void;\r\n  collapsed: boolean;\r\n}\r\n\r\nexport function MenuPanel({ onSelect, collapsed }: Props) {\r\n  return (\r\n    <div style={{ height: \"100%\", color: \"#E5E5E5\", fontFamily: \"'Amatic SC', cursive\" }}>\r\n      <div style={{ padding: \"10px 12px\", display: \"flex\", alignItems: \"center\", gap: 8 }}>\r\n        {/* –ª–æ–≥–æ—Ç–∏–ø—ã */}\r\n        {!collapsed && <img src=\"/brand/logo_ipan_word.svg\" height={22} alt=\"iPan\" />}\r\n      </div>\r\n\r\n      <div style={{ padding: \"4px 0\", overflowY: \"auto\", height: \"calc(100% - 42px)\" }}>\r\n        {groups.map((g) => (\r\n          <div key={g.title} style={{ margin: \"8px 8px 12px\" }}>\r\n            {!collapsed && (\r\n              <div style={{ opacity: 0.5, letterSpacing: 2, margin: \"6px 6px 2px\" }}>{g.title}</div>\r\n            )}\r\n            {g.items.map((it) => (\r\n              <div\r\n                key={it.id}\r\n                onClick={() => onSelect(it.id)}\r\n                style={{\r\n                  cursor: \"pointer\",\r\n                  height: 40,\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  gap: 10,\r\n                  padding: \"0 10px\"\r\n                }}\r\n              >\r\n                {/* –∑–¥–µ—Å—å –º–æ–≥—É—Ç –±—ã—Ç—å —Ç–≤–æ–∏ SVG-–∏–∫–æ–Ω–∫–∏ */}\r\n                <span style={{ width: 24, textAlign: \"center\" }}>‚ñ£</span>\r\n                {!collapsed && <span style={{ fontSize: 22 }}>{it.label.toUpperCase()}</span>}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"
    },
    {
      "path": "frontend/ipan/src/index.css",
      "bytes": 1555,
      "sha1": "3a0c72e648a59bb13eae1cc596ca9b7422d1c109",
      "type": "text",
      "inline": "/* ---- Base reset ---- */\r\n*, *::before, *::after { box-sizing: border-box; }\r\nhtml, body, #root { height: 100%; margin: 0; }\r\n\r\n/* –ì–ª–æ–±–∞–ª—å–Ω—ã–π UI-—à—Ä–∏—Ñ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */\r\nbody {\r\n  font-family: \"Playpen Sans\", system-ui, -apple-system, \"Segoe UI\", Roboto,\r\n               \"Helvetica Neue\", Arial, \"Noto Sans\", \"Apple Color Emoji\", \"Segoe UI Emoji\";\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n/* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —à—Ä–∏—Ñ—Ç–æ–≤ */\r\n:root{\r\n  --font-title: \"Amatic SC\", \"Playpen Sans\", system-ui, -apple-system, \"Segoe UI\", Roboto, Arial;\r\n  --font-ui:    \"Playpen Sans\", system-ui, -apple-system, \"Segoe UI\", Roboto, Arial;\r\n}\r\n\r\n/* –Ø–≤–Ω–æ –∑–∞–¥–∞—ë–º Amatic SC –¥–ª—è –ª–µ–≤–æ—ó –ø–∞–Ω–µ–ª–∏ –∏ —Ö–µ–¥–µ—Ä–∞ */\r\n.leftSidebar,\r\n[data-slot=\"left-sidebar\"],\r\n.headerBar,\r\n[data-slot=\"header\"]{\r\n  font-family: var(--font-title);\r\n}\r\n\r\n/* –û—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî UI-—à—Ä–∏—Ñ—Ç */\r\n.mainContent,\r\n[data-slot=\"main\"]{\r\n  font-family: var(--font-ui);\r\n}\r\n\r\n/* –ñ—ë—Å—Ç–∫–æ —Å–∫—Ä—ã–≤–∞–µ–º –ª—é–±—ã–µ –ø—Ä–µ–∂–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏/—Ä–µ–∑–∞–π–∑–µ—Ä—ã, –µ—Å–ª–∏ –≥–¥–µ-—Ç–æ –æ—Å—Ç–∞–ª–∏—Å—å */\r\n.resizer,\r\n.splitter,\r\n.v-divider,\r\n.h-divider,\r\n[role=\"separator\"],\r\n[data-resizer],\r\n[data-splitter] {\r\n  display: none !important;\r\n  pointer-events: none !important;\r\n}\r\n\r\n/* –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞: —É–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –ª–µ–≤—ã–µ –±–æ—Ä–¥–µ—Ä—ã –≤ –∫–æ—Ä–Ω–µ–≤—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö —Å—Ç—Ä–∞–Ω–∏—Ü */\r\nmain > div {\r\n  border-left: none !important;\r\n}"
    },
    {
      "path": "frontend/ipan/src/main.tsx",
      "bytes": 324,
      "sha1": "210d536e79c89ad7f85c5d61552ce94e695a94d4",
      "type": "text",
      "inline": "import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css';\nimport App from './App'\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n)\n"
    },
    {
      "path": "frontend/ipan/src/pages/Dashboard.tsx",
      "bytes": 1281,
      "sha1": "6040cdbed953025e8aeec754aa30fc7d9296c1ec",
      "type": "text",
      "inline": "import { Box, Paper, Typography } from '@mui/material'\nimport SplitPane from '../components/SplitPane'\n\nfunction Placeholder({ label }: { label: string }) {\n  return (\n    <Box sx={{ p: 2 }}>\n      <Typography variant=\"subtitle1\" sx={{ color: 'warning.main', fontWeight: 700 }}>{label}</Typography>\n    </Box>\n  )\n}\n\nexport default function Dashboard() {\n  return (\n    <Box sx={{ height: '100%' }}>\n      <SplitPane direction=\"vertical\" initial={28} minA={16} minB={20} storageKey=\"ipan:dash:main\" height=\"100%\">\n        {/* —Å–ª–µ–≤–∞: —Ñ–∏–ª—å—Ç—Ä/–∫–∞—Ç–∞–ª–æ–≥ (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–ø–ª–∏—Ç) */}\n        <SplitPane direction=\"horizontal\" initial={40} minA={16} minB={16} storageKey=\"ipan:dash:left\">\n          <Box sx={{ height: '100%', borderRight: '2px solid', borderColor: 'divider', borderBottom: '2px solid' }}>\n            <Placeholder label=\"filters_block\" />\n          </Box>\n          <Box sx={{ height: '100%', borderRight: '2px solid', borderColor: 'divider' }}>\n            <Placeholder label=\"catalogue_list\" />\n          </Box>\n        </SplitPane>\n\n        {/* —Ü–µ–Ω—Ç—Ä: –æ—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ */}\n        <Paper sx={{ height: '100%' }}>\n          <Placeholder label=\"main_content_window\" />\n        </Paper>\n      </SplitPane>\n    </Box>\n  )\n}\n"
    },
    {
      "path": "frontend/ipan/src/pages/LEX.tsx",
      "bytes": 1032,
      "sha1": "945e85cb7df8e1f3b8df59e9d257376736881c99",
      "type": "text",
      "inline": "import { useEffect, useState } from 'react'\nimport { Card, CardContent, Typography, MenuItem, TextField, Box } from '@mui/material'\nimport { marked } from 'marked'\n\nconst files = [\n  { label: 'README', path: '/lex/README.md' },\n]\n\nexport default function LEX() {\n  const [content, setContent] = useState('<p>–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç</p>')\n  const [file, setFile] = useState(files[0].path)\n\n  useEffect(() => {\n    fetch(file).then(r => r.text()).then(md => setContent(marked.parse(md)))\n  }, [file])\n\n  return (\n    <Card>\n      <CardContent>\n        <Box sx={{ display: 'flex', gap: 2, alignItems: 'center', mb: 2 }}>\n          <Typography variant=\"h6\">LEX (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)</Typography>\n          <TextField select size=\"small\" value={file} onChange={(e) => setFile(e.target.value)}>\n            {files.map(f => <MenuItem key={f.path} value={f.path}>{f.label}</MenuItem>)}\n          </TextField>\n        </Box>\n        <div dangerouslySetInnerHTML={{ __html: content }} />\n      </CardContent>\n    </Card>\n  )\n}\n"
    },
    {
      "path": "frontend/ipan/src/pages/Orders.tsx",
      "bytes": 1979,
      "sha1": "653d675103d306ddd5813bafdfe86ab5b6689ab4",
      "type": "text",
      "inline": "import { Box, Stack, Typography, TextField, Button, List, ListItemButton, ListItemText } from '@mui/material'\nimport SplitPane from '../components/SplitPane'\n\nexport default function Orders() {\n  return (\n    <Box sx={{ height: '100%' }}>\n      <SplitPane direction=\"vertical\" initial={34} minA={18} minB={30} storageKey=\"ipan:orders:split\" height=\"100%\">\n        <Box sx={{ height: '100%', p: 2, borderRight: '2px solid', borderColor: 'divider' }}>\n          <Typography variant=\"h6\" sx={{ mb: 2 }}>–§–∏–ª—å—Ç—Ä</Typography>\n          <Stack spacing={1.25}>\n            <TextField size=\"small\" label=\"–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π\" />\n            <TextField size=\"small\" label=\"–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è\" />\n            <TextField size=\"small\" label=\"–≠—Ç–∞–ø\" />\n            <TextField size=\"small\" label=\"–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç\" />\n            <TextField size=\"small\" label=\"–ü–µ—Ä–∏–æ–¥\" />\n            <TextField size=\"small\" label=\"–¢–µ–≥–∏\" />\n            <Stack direction=\"row\" spacing={1}>\n              <Button variant=\"contained\">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</Button>\n              <Button variant=\"outlined\">–û—á–∏—Å—Ç–∏—Ç—å</Button>\n            </Stack>\n          </Stack>\n        </Box>\n\n        <Box sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n          <Box sx={{ px: 2, py: 1.5, borderBottom: '2px solid', borderColor: 'divider' }}>\n            <Typography variant=\"h6\">–ó–∞—è–≤–∫–∏</Typography>\n          </Box>\n          <Box sx={{ flex: 1, overflow: 'auto' }}>\n            <List dense disablePadding>\n              {['01.11.2025, 06:59','31.10.2025, 13:44','31.10.2025, 08:36'].map((t, i) => (\n                <ListItemButton key={i} sx={{ px: 2, py: 1, borderBottom: '2px solid', borderColor: 'divider' }}>\n                  <ListItemText primary={t} secondary=\"–ù–æ–≤–∞—è ¬∑ –ó–∞–∫–∞–∑ —Å —Å–∞–π—Ç–∞ ¬∑ –ü–ú–ö\" />\n                </ListItemButton>\n              ))}\n            </List>\n          </Box>\n        </Box>\n      </SplitPane>\n    </Box>\n  )\n}\n"
    },
    {
      "path": "frontend/ipan/src/pages/SettingsInterface.tsx",
      "bytes": 7913,
      "sha1": "bbfbdcf4e53ef2a61cca8378586df36850c58418",
      "type": "text",
      "inline": "import React, { useEffect, useState } from \"react\";\nimport {\n  useUISettings,\n  setChildIndentPx, setGroupFontWeight, setChildFontWeight,\n  setLeftSidebarBg, setSidebarWidthOpen, setSidebarWidthCollapsed, setShowSidebarSeparator,\n  setHeaderBg, setHeaderHeight, setShowHeaderSeparator,\n  setLineColor,\n} from \"../state/uiSettings\";\n\nconst wrap: React.CSSProperties = {\n  padding: 16, color: \"#E5E5E5\", fontFamily: \"'Playpen Sans', system-ui, sans-serif\",\n};\nconst card: React.CSSProperties = {\n  border: \"1px solid #3C3C3C\", borderRadius: 10, padding: 16, maxWidth: 720, background: \"#141414\", marginBottom: 16,\n};\n\nfunction NumberControl(props: {\n  label: string; min: number; max: number; step?: number;\n  value: number; onChange: (v: number) => void; suffix?: string;\n}) {\n  const { label, min, max, step = 10, value, onChange, suffix } = props;\n  return (\n    <div style={card}>\n      <label style={{ display: \"block\", marginBottom: 10, fontSize: 18 }}>{label}</label>\n      <div style={{ display: \"flex\", gap: 12, alignItems: \"center\" }}>\n        <input type=\"range\" min={min} max={max} step={step} value={value}\n               onChange={(e) => onChange(parseInt(e.target.value || \"0\", 10))} style={{ flex: 1 }} />\n        <input type=\"number\" min={min} max={max} step={step} value={value}\n               onChange={(e) => onChange(parseInt(e.target.value || \"0\", 10))}\n               style={{ width: 110, background: \"#0f1010\", color: \"#E5E5E5\",\n                        border: \"1px solid #3C3C3C\", borderRadius: 8, padding: \"6px 10px\", fontSize: 16 }} />\n        {suffix && <span style={{ opacity: 0.7 }}>{suffix}</span>}\n      </div>\n    </div>\n  );\n}\n\nfunction ColorControl(props: { label: string; value: string; onChange: (v: string) => void; }) {\n  const { label, value, onChange } = props;\n  return (\n    <div style={card}>\n      <label style={{ display: \"block\", marginBottom: 10, fontSize: 18 }}>{label}</label>\n      <input type=\"color\" value={value}\n             onChange={(e) => onChange((e.target as HTMLInputElement).value)}\n             style={{ width: 60, height: 36, background: \"transparent\", border: \"1px solid #3C3C3C\", borderRadius: 8 }} />\n      <span style={{ marginLeft: 12, opacity: 0.8 }}>{value}</span>\n    </div>\n  );\n}\n\nfunction ToggleControl(props: { label: string; checked: boolean; onChange: (v: boolean) => void; }) {\n  const { label, checked, onChange } = props;\n  return (\n    <div style={card}>\n      <label style={{ display: \"flex\", alignItems: \"center\", gap: 12, fontSize: 18 }}>\n        <input type=\"checkbox\" checked={checked} onChange={(e) => onChange(e.target.checked)} />\n        {label}\n      </label>\n    </div>\n  );\n}\n\nexport default function SettingsInterface() {\n  const s = useUISettings();\n\n  // –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å—Ç–µ–π—Ç—ã –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–ª–∞–π–¥–µ—Ä–∞–º–∏ ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è\n  const [indent, setIndent] = useState(s.childIndentPx);\n  const [wGroup, setWGroup] = useState(s.groupFontWeight);\n  const [wChild, setWChild] = useState(s.childFontWeight);\n\n  const [leftBg, setLeftBg] = useState(s.leftSidebarBg);\n  const [wOpen, setWOpen] = useState(s.sidebarWidthOpen);\n  const [wCollapsed, setWCollapsed] = useState(s.sidebarWidthCollapsed);\n  const [vSep, setVSep] = useState(s.showSidebarSeparator);\n\n  const [hdrBg, setHdrBg] = useState(s.headerBg);\n  const [hdrH, setHdrH] = useState(s.headerHeight);\n  const [hSep, setHSep] = useState(s.showHeaderSeparator);\n\n  const [lineColor, setLColor] = useState(s.lineColor);\n\n  // —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –≤–Ω–µ—à–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö\n  useEffect(() => { setIndent(s.childIndentPx); }, [s.childIndentPx]);\n  useEffect(() => { setWGroup(s.groupFontWeight); }, [s.groupFontWeight]);\n  useEffect(() => { setWChild(s.childFontWeight); }, [s.childFontWeight]);\n\n  useEffect(() => { setLeftBg(s.leftSidebarBg); }, [s.leftSidebarBg]);\n  useEffect(() => { setWOpen(s.sidebarWidthOpen); }, [s.sidebarWidthOpen]);\n  useEffect(() => { setWCollapsed(s.sidebarWidthCollapsed); }, [s.sidebarWidthCollapsed]);\n  useEffect(() => { setVSep(s.showSidebarSeparator); }, [s.showSidebarSeparator]);\n\n  useEffect(() => { setHdrBg(s.headerBg); }, [s.headerBg]);\n  useEffect(() => { setHdrH(s.headerHeight); }, [s.headerHeight]);\n  useEffect(() => { setHSep(s.showHeaderSeparator); }, [s.showHeaderSeparator]);\n\n  useEffect(() => { setLColor(s.lineColor); }, [s.lineColor]);\n\n  return (\n    <div style={wrap}>\n      <h2 style={{ marginTop: 0, fontFamily: \"'Amatic SC', cursive\", fontSize: 36 }}>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</h2>\n\n      {/* –õ–µ–≤–æ–µ –º–µ–Ω—é */}\n      <h3 style={{ fontFamily: \"'Amatic SC', cursive\", fontSize: 28, margin: \"20px 0 8px\" }}>–õ–µ–≤–æ–µ –º–µ–Ω—é</h3>\n      <ColorControl\n        label=\"–¶–≤–µ—Ç —Ñ–æ–Ω–∞ –ª–µ–≤–æ–≥–æ –º–µ–Ω—é\"\n        value={leftBg}\n        onChange={(v) => { setLeftBg(v); setLeftSidebarBg(v); }}\n      />\n      <NumberControl\n        label=\"–®–∏—Ä–∏–Ω–∞ –º–µ–Ω—é (—Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ)\"\n        min={220} max={480} step={2}\n        value={wOpen}\n        onChange={(v) => { setWOpen(v); setSidebarWidthOpen(v); }}\n        suffix=\"px\"\n      />\n      <NumberControl\n        label=\"–®–∏—Ä–∏–Ω–∞ –º–µ–Ω—é (—Å–≤–µ—Ä–Ω—É—Ç–æ)\"\n        min={44} max={80} step={1}\n        value={wCollapsed}\n        onChange={(v) => { setWCollapsed(v); setSidebarWidthCollapsed(v); }}\n        suffix=\"px\"\n      />\n      <ToggleControl\n        label=\"–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é –ª–∏–Ω–∏—é-–≥—Ä–∞–Ω–∏—Ü—É —Å–ø—Ä–∞–≤–∞ –æ—Ç –º–µ–Ω—é\"\n        checked={vSep}\n        onChange={(b) => { setVSep(b); setShowSidebarSeparator(b); }}\n      />\n\n      {/* Header */}\n      <h3 style={{ fontFamily: \"'Amatic SC', cursive\", fontSize: 28, margin: \"20px 0 8px\" }}>Header</h3>\n      <ColorControl\n        label=\"–¶–≤–µ—Ç —Ñ–æ–Ω–∞ Header\"\n        value={hdrBg}\n        onChange={(v) => { setHdrBg(v); setHeaderBg(v); }}\n      />\n      <NumberControl\n        label=\"–í—ã—Å–æ—Ç–∞ Header\"\n        min={40} max={120} step={2}\n        value={hdrH}\n        onChange={(v) => { setHdrH(v); setHeaderHeight(v); }}\n        suffix=\"px\"\n      />\n      <ToggleControl\n        label=\"–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é –ª–∏–Ω–∏—é-–≥—Ä–∞–Ω–∏—Ü—É —Å–Ω–∏–∑—É Header\"\n        checked={hSep}\n        onChange={(b) => { setHSep(b); setShowHeaderSeparator(b); }}\n      />\n\n      {/* –õ–∏–Ω–∏–∏ */}\n      <h3 style={{ fontFamily: \"'Amatic SC', cursive\", fontSize: 28, margin: \"20px 0 8px\" }}>–û—Ç–¥–µ–ª—è—é—â–∏–µ –ª–∏–Ω–∏–∏</h3>\n      <ColorControl\n        label=\"–¶–≤–µ—Ç –ª–∏–Ω–∏–π-—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π\"\n        value={lineColor}\n        onChange={(v) => { setLColor(v); setLineColor(v); }}\n      />\n\n      {/* –£–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã */}\n      <h3 style={{ fontFamily: \"'Amatic SC', cursive\", fontSize: 28, margin: \"20px 0 8px\" }}>–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ</h3>\n      <NumberControl\n        label=\"–°–º–µ—â–µ–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ –º–µ–Ω—é (—Ç–æ–ª—å–∫–æ –≤ —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ–º –≤–∏–¥–µ)\"\n        min={0} max={120} step={2}\n        value={indent}\n        onChange={(v) => { setIndent(v); setChildIndentPx(v); }}\n        suffix=\"px\"\n      />\n      <NumberControl\n        label=\"–¢–æ–ª—â–∏–Ω–∞ —à—Ä–∏—Ñ—Ç–∞ –≥–æ–ª–æ–≤–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤\"\n        min={100} max={900} step={10}\n        value={wGroup}\n        onChange={(v) => { setWGroup(v); setGroupFontWeight(v); }}\n      />\n      <NumberControl\n        label=\"–¢–æ–ª—â–∏–Ω–∞ —à—Ä–∏—Ñ—Ç–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤\"\n        min={100} max={900} step={10}\n        value={wChild}\n        onChange={(v) => { setWChild(v); setChildFontWeight(v); }}\n      />\n\n      <p style={{ color: \"#9aa0a6\", fontSize: 14, marginTop: 8 }}>\n        –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ.\n      </p>\n    </div>\n  );\n}\n"
    },
    {
      "path": "frontend/ipan/src/pages/Stub.tsx",
      "bytes": 1477,
      "sha1": "ac35091c5b6f9d110c62944b3e4f525422be6421",
      "type": "text",
      "inline": "import { useParams } from 'react-router-dom'\nimport { Box, Typography } from '@mui/material'\n\nconst NAMES: Record<string, string> = {\n  dashboard: 'Dashboard', tasks: '–ó–∞–¥–∞—á–∏', comments: '–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏', comms: '–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏', tags: '–¢–µ–≥–∏',\n  contacts: '–ö–æ–Ω—Ç–∞–∫—Ç—ã', counterparty: '–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã', users: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏', groups: '–ì—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π', warehouses: '–°–∫–ª–∞–¥—ã',\n  products: '–¢–æ–≤–∞—Ä—ã –∏ —É—Å–ª—É–≥–∏', chars: '–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫', brands: '–ë—Ä–µ–Ω–¥—ã', units: '–ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è', kinds: '–í–∏–¥—ã –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã',\n  quotes: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è', invoices: '–°—á–µ—Ç–∞',\n  payments: '–ü–ª–∞—Ç–µ–∂–∏', contracts: '–î–æ–≥–æ–≤–æ—Ä—ã', sales: '–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏', receipts: '–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è', shipments: '–û—Ç–≥—Ä—É–∑–∫–∏',\n  bills_in: '–í—Ö–æ–¥—è—â–∏–µ —Å—á–µ—Ç–∞', letters: '–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –ø–∏—Å—å–º–∞',\n  lex_docs: 'LEX: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', lex_tasks: 'LEX: –ó–∞–¥–∞—á–∏',\n}\n\nexport default function Stub() {\n  const { key } = useParams()\n  const title = (key && NAMES[key]) || '–†–∞–∑–¥–µ–ª'\n  return (\n    <Box sx={{ p: 2 }}>\n      <Typography variant=\"h5\" sx={{ mb: 1, fontWeight: 700 }}>{title}</Typography>\n      <Typography variant=\"body2\" color=\"text.secondary\">\n        –ó–∞–≥–ª—É—à–∫–∞. –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ¬´{title}¬ª.\n      </Typography>\n    </Box>\n  )\n}\n"
    },
    {
      "path": "frontend/ipan/src/state/uiSettings.ts",
      "bytes": 3673,
      "sha1": "2558b9118402c48c79d87469c39609a3108dcbae",
      "type": "text",
      "inline": "import { useSyncExternalStore } from \"react\";\n\nconst STORAGE_KEY = \"ipan.ui.settings.v2\";\n\nexport type Settings = {\n  // —É–∂–µ –±—ã–ª–∏\n  childIndentPx: number;\n  groupFontWeight: number;\n  childFontWeight: number;\n\n  // –ù–û–í–û–ï: –ª–µ–≤–æ–µ –º–µ–Ω—é –∏ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏\n  leftSidebarBg: string;              // (1) —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ –ª–µ–≤–æ–≥–æ –º–µ–Ω—é\n  sidebarWidthOpen: number;           // (2) —à–∏—Ä–∏–Ω–∞ –º–µ–Ω—é —Ä–∞—Å–∫—Ä—ã—Ç–æ–≥–æ\n  sidebarWidthCollapsed: number;      // (3) —à–∏—Ä–∏–Ω–∞ –º–µ–Ω—é —Å–≤–µ—Ä–Ω—É—Ç–æ–≥–æ\n  showSidebarSeparator: boolean;      // (4) –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å —Å–ø—Ä–∞–≤–∞ –æ—Ç –º–µ–Ω—é\n\n  // –ù–û–í–û–ï: header\n  headerBg: string;                   // (5) —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ Header\n  headerHeight: number;               // (6) –≤—ã—Å–æ—Ç–∞ Header\n  showHeaderSeparator: boolean;       // (7) –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å —Å–Ω–∏–∑—É Header\n\n  // (8) –µ–¥–∏–Ω—ã–π —Ü–≤–µ—Ç –ª–∏–Ω–∏–π-—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π\n  lineColor: string;\n};\n\nfunction defaults(): Settings {\n  return {\n    childIndentPx: 24,\n    groupFontWeight: 700,\n    childFontWeight: 600,\n\n    leftSidebarBg: \"#0f1010\",\n    sidebarWidthOpen: 300,\n    sidebarWidthCollapsed: 56,\n    showSidebarSeparator: true,\n\n    headerBg: \"#353535\",\n    headerHeight: 56,\n    showHeaderSeparator: false,\n\n    lineColor: \"#3C3C3C\",\n  };\n}\n\nfunction load(): Settings {\n  const d = defaults();\n  try {\n    const raw = localStorage.getItem(STORAGE_KEY);\n    if (!raw) return d;\n    const p = JSON.parse(raw);\n    return { ...d, ...p };\n  } catch {\n    return d;\n  }\n}\n\nlet state: Settings = load();\nconst subs = new Set<() => void>();\nconst emit = () => subs.forEach((fn) => fn());\nconst save = () => {\n  try { localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); } catch {}\n};\n\n// helpers\nconst clamp = (n: number, min: number, max: number) => Math.max(min, Math.min(max, Math.round(n)));\nconst clampWeight = (n: number) => clamp(n, 100, 900);\n\n// ========== setters (–±—ã–≤—à–∏–µ) ==========\nexport function setChildIndentPx(n: number) {\n  state = { ...state, childIndentPx: clamp(n, 0, 120) }; save(); emit();\n}\nexport function setGroupFontWeight(n: number) {\n  state = { ...state, groupFontWeight: clampWeight(n) }; save(); emit();\n}\nexport function setChildFontWeight(n: number) {\n  state = { ...state, childFontWeight: clampWeight(n) }; save(); emit();\n}\n\n// ========== setters (–ù–û–í–´–ï) ==========\nexport function setLeftSidebarBg(v: string) {\n  state = { ...state, leftSidebarBg: v || \"#0f1010\" }; save(); emit();\n}\nexport function setSidebarWidthOpen(n: number) {\n  state = { ...state, sidebarWidthOpen: clamp(n, 220, 480) }; save(); emit();\n}\nexport function setSidebarWidthCollapsed(n: number) {\n  state = { ...state, sidebarWidthCollapsed: clamp(n, 44, 80) }; save(); emit();\n}\nexport function setShowSidebarSeparator(b: boolean) {\n  state = { ...state, showSidebarSeparator: !!b }; save(); emit();\n}\n\nexport function setHeaderBg(v: string) {\n  state = { ...state, headerBg: v || \"#353535\" }; save(); emit();\n}\nexport function setHeaderHeight(n: number) {\n  state = { ...state, headerHeight: clamp(n, 40, 120) }; save(); emit();\n}\nexport function setShowHeaderSeparator(b: boolean) {\n  state = { ...state, showHeaderSeparator: !!b }; save(); emit();\n}\n\nexport function setLineColor(v: string) {\n  state = { ...state, lineColor: v || \"#3C3C3C\" }; save(); emit();\n}\n\n// ========== hook ==========\nexport function useUISettings() {\n  return useSyncExternalStore<Settings>(\n    (cb) => { subs.add(cb); return () => subs.delete(cb); },\n    () => state,\n    () => state\n  );\n}\n"
    },
    {
      "path": "frontend/ipan/src/theme/theme.ts",
      "bytes": 2269,
      "sha1": "c85794d9a102cc9c53e98d4306872057d6ae96b3",
      "type": "text",
      "inline": "// frontend/ipan/src/theme/theme.ts\nimport { createTheme } from \"@mui/material/styles\";\n\nexport const tokens = {\n  headerBg: \"#353535\",\n  appBgDark: \"#141414\",\n  appBgLight: \"#f7f3e9\",\n  sep: \"#3C3C3C\",\n  sepHover: \"#E5E5E5\",\n  ink: \"#E5E5E5\",\n  accents: {\n    sage: \"#8faa8c\",\n    lavender: \"#b8a6d9\",\n    cornflower: \"#8eaedb\",\n    rose: \"#cf9aac\",\n    amber: \"#e7d18a\",\n    teal: \"#82b5b1\",\n  },\n};\n\n// –ë–∞–∑–æ–≤–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞: Amatic SC –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤/–∞–∫—Ü–µ–Ω—Ç–æ–≤, Playpen Sans ‚Äî –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞\nconst typography = {\n  fontFamily: `\"Playpen Sans\", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif`,\n  h1: { fontFamily: `\"Amatic SC\", cursive`, fontWeight: 700, letterSpacing: 1 },\n  h2: { fontFamily: `\"Amatic SC\", cursive`, fontWeight: 700, letterSpacing: 1 },\n  h3: { fontFamily: `\"Amatic SC\", cursive`, fontWeight: 700, letterSpacing: 0.5 },\n  button: { textTransform: \"none\", fontWeight: 600 },\n} as const;\n\nexport const darkTheme = createTheme({\n  palette: {\n    mode: \"dark\",\n    background: { default: tokens.appBgDark, paper: tokens.appBgDark },\n    text: { primary: tokens.ink },\n    primary: { main: tokens.accents.lavender },\n    secondary: { main: tokens.accents.teal },\n    divider: tokens.sep,\n  },\n  typography,\n  components: {\n    MuiCssBaseline: {\n      styleOverrides: `\n        :root {\n          --header-bg: ${tokens.headerBg};\n          --app-bg: ${tokens.appBgDark};\n          --sep: ${tokens.sep};\n          --sep-hover: ${tokens.sepHover};\n          --ink: ${tokens.ink};\n        }\n        body { background: var(--app-bg); }\n      `,\n    },\n  },\n});\n\nexport const lightTheme = createTheme({\n  palette: {\n    mode: \"light\",\n    background: { default: tokens.appBgLight, paper: \"#fffdfa\" },\n    text: { primary: \"#2a2a2a\" },\n    primary: { main: tokens.accents.lavender },\n    secondary: { main: tokens.accents.teal },\n    divider: \"#e7e1d1\",\n  },\n  typography,\n  components: {\n    MuiCssBaseline: {\n      styleOverrides: `\n        :root {\n          --header-bg: ${tokens.headerBg};\n          --app-bg: ${tokens.appBgLight};\n          --sep: #e7e1d1;\n          --sep-hover: #2a2a2a;\n          --ink: #2a2a2a;\n        }\n        body { background: var(--app-bg); }\n      `,\n    },\n  },\n});\n"
    },
    {
      "path": "start-dev.ps1",
      "bytes": 293,
      "sha1": "76318741e347c6357f31114cf17cfe5c10b0843b",
      "type": "text",
      "inline": "# Frontend\r\nStart-Process powershell -ArgumentList \"-NoExit\", \"-Command\", \"cd C:\\.code\\.ipan\\frontend\\ipan; npm run dev\"\r\n\r\n# Backend\r\nStart-Process powershell -ArgumentList \"-NoExit\", \"-Command\", \"cd C:\\.code\\.ipan; .\\.venv\\Scripts\\Activate; uvicorn backend.app.main:app --reload --port 8000\""
    }
  ]
}